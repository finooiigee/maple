xmln←{
  _I←{⍺⍺(↑⍪⍺⍪↓)⍵}
  d k v a t←↓⍉1↓⎕XML ⍵
  v[⍸∨⌿1 3∘.=t]←⊂⍬
  t←1 4[3 5⍳t]
  o←k⍳⊂'body'
  i←o+⍸1,2≤/o↓d
  d←1+@i⊢d
  t←2@o⊢t
  m←⊃{2 '' ⍬ 1 (⍺_I) ⍵}/(i-1),⊂⍉↑d k v t
  d k v t←↓⍉m
  m←↑⊃{(⊂(1+⍺⊃d),(,⍺⊃a),4) (⍺_I) ⍵}/(⍸~(0∊⍴)¨a),⊂↓m
  ⎕JSON 1(⎕JSON⍠'M')0 '' ⍬ 1⍪m
}